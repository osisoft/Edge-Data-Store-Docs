<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Data filters </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Data filters ">
    <meta name="generator" content="docfx 2.59.1.0">
    
    <link rel="shortcut icon" href="../../../../favicon.ico">
    <link rel="stylesheet" href="../../../../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../../../../styles/docfx.css">
    <link rel="stylesheet" href="../../../../styles/main.css">
    <meta property="docfx:navrel" content="../../../../toc.html">
    <meta property="docfx:tocrel" content="../../../toc.html">
    
    <meta property="docfx:rel" content="../../../../">
    
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              <a class="navbar-brand" href="../../../../content/index.html" width="46">
                <img id="logo" src="../../../../content/images/atlas_icon.png" height="46" width="46" alt="OSIsoft Edge Data Store"> 
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div class="container body-content">
        
        <div id="search-results">
          <div class="search-list"></div>
          <div class="sr-items">
            <p><i class="glyphicon glyphicon-refresh index-loading"></i></p>
          </div>
          <ul id="pagination"></ul>
        </div>
      </div>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="DataFiltersConfiguration">
<h1 id="data-filters">Data filters</h1>

<p>You can configure PI adapters to perform data filtering to save network bandwidth. Every data item in the data selection configuration can be assigned the <code>Id</code> of a data filter. The adapter filters data for those data items based on the data filter configuration.</p>
<p><strong>Note:</strong> If you enable data filters and data quality changes, both the old and current data quality values are passed on.</p>
<h2 id="configure-data-filters">Configure data filters</h2>
<p>Complete the following steps to configure data filters. Use the <code>PUT</code> method in conjunction with the <code>http://localhost:5590/api/v1/configuration/&lt;ComponentId&gt;/DataFilters</code> REST endpoint to initialize the configuration.</p>
<ol>
<li><p>Using a text editor, create an empty text file.</p>
</li>
<li><p>Copy and paste an example configuration for data filters into the file.</p>
<p> For sample JSON, see <a href="#data-filters-example">Data filters example</a>.</p>
</li>
<li><p>Update the example JSON parameters for your environment.</p>
<p> For a table of all available parameters, see <a href="#data-filters-parameters">Data filters parameters</a>.</p>
</li>
<li><p>Save the file. For example, as <code>ConfigureDataFilters.json</code>.</p>
</li>
<li><p>Open a command line session. Change directory to the location of <code>ConfigureDataFilters.json</code>.</p>
</li>
<li><p>Enter the following curl command or EdgeCmd to initialize the data filters configuration.</p>
<div class="tabGroup" id="tabgroup_9jT6y9X5kF">
<ul role="tablist">
<li role="presentation">
<a href="#tabpanel_9jT6y9X5kF_tabid-1" role="tab" aria-controls="tabpanel_9jT6y9X5kF_tabid-1" data-tab="tabid-1" tabindex="0" aria-selected="true">curl</a>
</li>
<li role="presentation">
<a href="#tabpanel_9jT6y9X5kF_tabid-2" role="tab" aria-controls="tabpanel_9jT6y9X5kF_tabid-2" data-tab="tabid-2" tabindex="-1">Tab Text 2</a>
</li>
</ul>
<section id="tabpanel_9jT6y9X5kF_tabid-1" role="tabpanel" data-tab="tabid-1">
<pre><code class="lang-bash">curl -d &quot;@ConfigureDataFilters.json&quot; -H &quot;Content-Type: application/json&quot; -X PUT &quot;http://localhost:5590/api/v1/configuration/&lt;ComponentId&gt;/DataFilters&quot;
</code></pre></section>
<section id="tabpanel_9jT6y9X5kF_tabid-2" role="tabpanel" data-tab="tabid-2" aria-hidden="true" hidden="hidden">
<pre><code>edgecmd set dataFilters -cid OpcUa1 -file ConfigureDataFilters.json
</code></pre></section>
</div>
</li>
</ol>
<pre><code>**Note:** If you installed the adapter to listen on a non-default port, update `5590` to the port number in use. For a list of other REST operations you can perform, like updating or deleting a data filters configuration, see [REST URLs](#rest-urls).
&lt;br/&gt;
&lt;br/&gt;
</code></pre><p>On successful execution, the change that you have made to data filters takes effect immediately during runtime.</p>
<h2 id="data-filters-parameters">Data filters parameters</h2>
<p>The following parameters are available for configuring data filters:</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Id</strong></td>
<td>Required</td>
<td><code>string</code></td>
<td>Unique identifier for the data filter. <br><br>Allowed value: any string identifier<br></td>
</tr>
<tr>
<td><strong>AbsoluteDeadband</strong></td>
<td>Optional</td>
<td><code>double</code></td>
<td>Specifies the absolute change in data value that should cause the current value to pass the filter test. <br> <strong>Note:</strong> You must specify <code>AbsoluteDeadband</code> or <code>PercentChange</code>.<br><br>Allowed value: double value representing absolute deadband number<br>Default value: <code>null</code></td>
</tr>
<tr>
<td><strong>PercentChange</strong></td>
<td>Optional</td>
<td><code>double</code></td>
<td>Specifies the percent change from previous value that should cause the current value to pass the filter test. <br> <strong>Note:</strong> You must specify <code>AbsoluteDeadband</code> or <code>PercentChange</code>.<br><br>Allowed value: double value representing percent change<br>Default value: <code>null</code></td>
</tr>
<tr>
<td><strong>ExpirationPeriod</strong></td>
<td>Optional</td>
<td><code>timespan</code></td>
<td>The length in time that can elapse after an event before automatically sending the next event, regardless of whether the next event passes the filter or not. The expected format is HH:MM:SS.### or SSS.* <br><br>Allowed value: any timespan <br>Default value: <code>null</code></td>
</tr>
</tbody>
</table>
<p><strong>* Note:</strong> For example, <code>&quot;ExpirationPeriod&quot;: 5:00</code> and <code>&quot;ExpirationPeriod&quot;: 300</code> both specify an expiration period of 5 minutes and 0 seconds.</p>
<h2 id="data-filters-example">Data filters example</h2>
<pre><code class="lang-code">[
  {
    &quot;Id&quot;: &quot;DuplicateData&quot;,
    &quot;AbsoluteDeadband&quot;: 0,
    &quot;PercentChange&quot;: null,
    &quot;ExpirationPeriod&quot;: &quot;01:00:00&quot;
  }
]
</code></pre><h2 id="rest-urls">REST URLs</h2>
<table>
<thead>
<tr>
<th>Relative URL</th>
<th>HTTP verb</th>
<th>Action</th>
</tr>
</thead>
<tbody>
<tr>
<td>api/v1/configuration/<em>ComponentId</em>/DataFilters</td>
<td><code>GET</code></td>
<td>Gets all configured data filters.</td>
</tr>
<tr>
<td>api/v1/configuration/<em>ComponentId</em>/DataFilters</td>
<td><code>DELETE</code></td>
<td>Deletes all configured data filters.</td>
</tr>
<tr>
<td>api/v1/configuration/<em>ComponentId</em>/DataFilters</td>
<td><code>POST</code></td>
<td>Adds an array of data filters or a single data filter. Fails if any data filter already exists.</td>
</tr>
<tr>
<td>api/v1/configuration/<em>ComponentId</em>/DataFilters</td>
<td><code>PUT</code></td>
<td>Replaces all data.</td>
</tr>
<tr>
<td>api/v1/configuration/<em>ComponentId</em>/DataFilters</td>
<td><code>PATCH</code></td>
<td>Allows partial updating of configured data filter.</td>
</tr>
<tr>
<td>api/v1/configuration/<em>ComponentId</em>/DataFilters/<em>id</em></td>
<td><code>GET</code></td>
<td>Gets configured data filter by <code>Id</code>.</td>
</tr>
<tr>
<td>api/v1/configuration/<em>ComponentId</em>/DataFilters/<em>id</em></td>
<td><code>DELETE</code></td>
<td>Deletes configured data filter by <code>Id</code>.</td>
</tr>
<tr>
<td>api/v1/configuration/<em>ComponentId</em>/DataFilters/<em>id</em></td>
<td><code>PUT</code></td>
<td>Replaces data filter by <code>Id</code>. Fails if data filter does not exist.</td>
</tr>
</tbody>
</table>
<p><strong>Note:</strong> Replace <em>ComponentId</em> with the <code>Id</code> of your adapter component.</p>
</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                  <li>
                    <a href="https://github.com/osisoft/Edge-Data-Store-Docs/blob/main/content/shared-content/shared-content/configuration/data-filters.md/#L1" class="contribution-link">Improve this Doc</a>
                  </li>
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
              <!-- <p><a class="back-to-top" href="#top">Back to top</a><p> -->
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            
            <span><a href="https://www.osisoft.com/copyright/">© 2019 - 2021 OSIsoft, LLC. All rights reserved.</a></span>
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../../../../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../../../../styles/docfx.js"></script>
    <script type="text/javascript" src="../../../../styles/main.js"></script>
  </body>
</html>
