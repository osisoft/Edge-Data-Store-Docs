<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Read data </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Read data ">
    <meta name="generator" content="docfx 2.59.1.0">
    
    <link rel="shortcut icon" href="../../favicon.ico">
    <link rel="stylesheet" href="../../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../../styles/docfx.css">
    <link rel="stylesheet" href="../../styles/main.css">
    <meta property="docfx:navrel" content="../../toc.html">
    <meta property="docfx:tocrel" content="toc.html">
    
    <meta property="docfx:rel" content="../../">
    
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              <a class="navbar-brand" href="../../content/index.html" width="46">
                <img id="logo" src="../../content/images/atlas_icon.png" height="46" width="46" alt="OSIsoft Edge Data Store"> 
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div class="container body-content">
        
        <div id="search-results">
          <div class="search-list"></div>
          <div class="sr-items">
            <p><i class="glyphicon glyphicon-refresh index-loading"></i></p>
          </div>
          <ul id="pagination"></ul>
        </div>
      </div>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="sdsReadingData">
<h1 id="read-data">Read data</h1>

<p>The .NET and REST APIs provide programmatic access to read and write data. This section identifies and describes the APIs used to read <a class="xref" href="sds-streams.html">SdsStreams</a> data. Results are influenced by <a class="xref" href="sds-types.html">SdsTypes</a>, <a class="xref" href="sds-views.html">SdsStreamViews</a>, <a class="xref" href="read-data/filter-expressions.html">filter expressions</a>, and <a class="xref" href="read-data/table-format.html">table format</a>.</p>
<p>If you are working in a .NET environment, convenient SDS Client Libraries are available. The <code>ISdsDataService</code> interface, which is accessed using the <code>SdsService.GetDataService()</code> helper, defines the functions that are available.</p>
<h2 id="reading-data-from-streams">Reading data from streams</h2>
<p>While SDS is a robust data storage, it performs best if you follow certain guidelines:</p>
<ul>
<li><p>Maximum limit for events in read data calls</p>
</li>
<li><p>Increase the Request-Timeout in the header</p>
</li>
<li><p>Enable compression</p>
</li>
<li><p>Use available read data APIs</p>
</li>
</ul>
<h3 id="maximum-limit-for-events-in-read-data-calls">Maximum limit for events in read data calls</h3>
<p>Read data API is limited to retrieve less than 250,000 events per request. An error message is returned when the maximum limit is reached. This maximum limit applies to <a class="xref" href="streams/sds-streams-api.html#list-streams">List Values</a>, <a class="xref" href="streams/sds-streams-api.html#list-summaries">List Summaries</a>, <a class="xref" href="streams/sds-streams-api.html#list-sampled-values">List Sampled Values</a>.</p>
<pre><code class="lang-text">400 bad request error
{ 
               &quot;Error&quot;: &quot;The request is not valid.&quot;, 
               &quot;Reason&quot;: &quot;Exceeded the maximum return count of 250000 events.&quot; 
               &quot;Resolution&quot;: &quot;Reduce query size and resubmit the request.&quot; 
} 
</code></pre><h3 id="increase-the-request-timeout-in-the-header">Increase the Request-Timeout in the header</h3>
<p>Increase the Request-Timeout in the header to 5 minutes for large range calls that are requesting 250,000 events in a read call. The gateway will send <code>408 - Operation timed out error</code> if the request needs more than 30 seconds.</p>
<p>The range of values that are held in memory can be large and be anywhere between 1 GB and 2 GB, so the system needs enough time to read and return the data.</p>
<p>If multiple calls return <code>408 - Operation timed out error</code> even after increasing the timeout limit to 5 minutes, do one of the following:</p>
<ul>
<li><p>Reduce the range in the request calls of this type</p>
</li>
<li><p>Retry with an exponential back-off policy</p>
</li>
</ul>
<h3 id="compression">Compression</h3>
<p>Include <code>Accept-Encoding: gzip, deflate</code> in the HTTP header. This enables compression. For more information, see <a class="xref" href="compression.html#supported-compression-schemes">Compression</a>.</p>
<h3 id="use-available-read-data-apis">Use available read data APIs</h3>
<p>Depending on the scenario, there are different read data APIs available. They return an overview of the values instead of reading all values at once. These APIs provide a good high-level view of the values without displaying them all at the same time:</p>
<ul>
<li><p><a class="xref" href="read-data/reading-data-api.html#list-values">List Values</a> with filters</p>
</li>
<li><p><a class="xref" href="read-data/reading-data-api.html#get-summaries">Get Summaries</a></p>
</li>
<li><p><a class="xref" href="read-data/reading-data-api.html#get-sampled-values">Get Sampled Values</a></p>
</li>
</ul>
<h2 id="single-stream-reads">Single stream reads</h2>
<p>The following methods for reading a single value are available:</p>
<ul>
<li><p><a class="xref" href="read-data/reading-data-api.html#get-first-value">Get First Value</a> returns the first value in the stream.</p>
</li>
<li><p><a class="xref" href="read-data/reading-data-api.html#get-last-value">Get Last Value</a> returns the last value in the stream.</p>
</li>
<li><p><a class="xref" href="read-data/reading-data-api.html#find-distinct-value">Find Distinct Value</a> returns a value based on a starting index and search criteria.</p>
</li>
</ul>
<p>In addition, the following methods support reading multiple values:</p>
<ul>
<li><p><a class="xref" href="read-data/reading-data-api.html#list-values">List Values</a> retrieves a collection of stored values based on the request parameters.</p>
</li>
<li><p><a class="xref" href="read-data/reading-data-api.html#list-interpolated-values">List Interpolated Values</a> retrieves a collection of stored or calculated values based on the request parameters.</p>
</li>
<li><p><a class="xref" href="read-data/reading-data-api.html#get-summaries">Get Summaries</a> retrieves a collection of evenly spaced summary intervals based on a count and specified start and end indexes.</p>
</li>
<li><p><a class="xref" href="read-data/reading-data-api.html#get-sampled-values">Get Sampled Values</a> retrieves a collection of sampled data based on the request parameters.</p>
</li>
</ul>
<h2 id="bulk-reads">Bulk reads</h2>
<p>SDS supports reading from multiple streams in one request. The following method for reading data from multiple streams is available:</p>
<ul>
<li><a class="xref" href="read-data/reading-data-api.html#join-values">Join Values</a> retrieves a collection of events across multiple streams and joins the results based on the request parameters.</li>
</ul>
<h2 id="sdsboundarytype">SdsBoundaryType</h2>
<p>The <code>SdsBoundaryType</code> enum defines how data on the boundary of queries is handled—around the start index for range value queries and around the start and end index for window values. The following are valid values for <code>SdsBoundaryType</code>:</p>
<table>
<thead>
<tr>
<th>Boundary</th>
<th>Enumeration value</th>
<th>Operation</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Exact</code></td>
<td>0</td>
<td>Results include the event at the specified index boundary if a stored event exists at that index.</td>
</tr>
<tr>
<td><code>Inside</code></td>
<td>1</td>
<td>Results include only events within the index boundaries</td>
</tr>
<tr>
<td><code>Outside</code></td>
<td>2</td>
<td>Results include up to one event that falls immediately outside of the specified index boundary.</td>
</tr>
<tr>
<td><code>ExactOrCalculated</code></td>
<td>3</td>
<td>Results include the event at the specified index boundary. If no stored event exists at that index, one is calculated based on the index type and interpolation and extrapolation settings.</td>
</tr>
</tbody>
</table>
<h2 id="sdssearchmode">SdsSearchMode</h2>
<p>The <code>SdsSearchMode</code> enum defines search behavior when seeking a stored event near a specified index. The following table shows valid values for <code>SdsSearchMode</code>.</p>
<table>
<thead>
<tr>
<th>Mode</th>
<th>Enumeration value</th>
<th>Operation</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Exact</code></td>
<td>0</td>
<td>If a stored event exists at the specified index, that event is returned. Otherwise, no event is returned.</td>
</tr>
<tr>
<td><code>ExactOrNext</code></td>
<td>1</td>
<td>If a stored event exists at the specified index, that event is returned. Otherwise, the next event in the stream is returned.</td>
</tr>
<tr>
<td><code>Next</code></td>
<td>2</td>
<td>Returns the stored event after the specified index.</td>
</tr>
<tr>
<td><code>ExactOrPrevious</code></td>
<td>3</td>
<td>If a stored event exists at the specified index, that event is returned. Otherwise, the previous event in the stream is returned.</td>
</tr>
<tr>
<td><code>Previous</code></td>
<td>4</td>
<td>Returns the stored event before the specified index.</td>
</tr>
</tbody>
</table>
</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                  <li>
                    <a href="https://github.com/osisoft/Edge-Data-Store-Docs/blob/main/content/sds/read-data.md/#L1" class="contribution-link">Improve this Doc</a>
                  </li>
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
              <!-- <p><a class="back-to-top" href="#top">Back to top</a><p> -->
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            
            <span><a href="https://www.osisoft.com/copyright/">© 2019 - 2021 OSIsoft, LLC. All rights reserved.</a></span>
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../../styles/docfx.js"></script>
    <script type="text/javascript" src="../../styles/main.js"></script>
  </body>
</html>
