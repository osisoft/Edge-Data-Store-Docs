<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Storage runtime configuration </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Storage runtime configuration ">
    <meta name="generator" content="docfx 2.59.1.0">
    
    <link rel="shortcut icon" href="../../favicon.ico">
    <link rel="stylesheet" href="../../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../../styles/docfx.css">
    <link rel="stylesheet" href="../../styles/main.css">
    <meta property="docfx:navrel" content="../../toc.html">
    <meta property="docfx:tocrel" content="../toc.html">
    
    <meta property="docfx:rel" content="../../">
    
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              <a class="navbar-brand" href="../../content/index.html" width="46">
                <img id="logo" src="../../content/images/atlas_icon.png" height="46" width="46" alt="OSIsoft Edge Data Store"> 
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div class="container body-content">
        
        <div id="search-results">
          <div class="search-list"></div>
          <div class="sr-items">
            <p><i class="glyphicon glyphicon-refresh index-loading"></i></p>
          </div>
          <ul id="pagination"></ul>
        </div>
      </div>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="storageruntime">
<h1 id="storage-runtime-configuration">Storage runtime configuration</h1>

<p>The Edge Data Store storage component is installed with default configurations that are sufficient for most scenarios; however, you can configure the runtime characteristics of the storage component.</p>
<p><strong>Note:</strong> Consult with Technical Support before you modify the default configuration.</p>
<p>To update the storage runtime configuration:</p>
<ol>
<li><p>Using any text editor, create a JSON file that contains the storage runtime configuration.</p>
<ul>
<li>For the content structure, see <a href="#parameters">Parameters</a>.</li>
</ul>
</li>
<li><p>Save the JSON file with the name <code>Storage_Runtime..json</code>.</p>
</li>
<li><p>From the same directory where the file exists, run the following curl script or EdgeCmd:</p>
<div class="tabGroup" id="tabgroup_oc8K8ou1Mv">
<ul role="tablist">
<li role="presentation">
<a href="#tabpanel_oc8K8ou1Mv_tabid-1" role="tab" aria-controls="tabpanel_oc8K8ou1Mv_tabid-1" data-tab="tabid-1" tabindex="0" aria-selected="true">curl</a>
</li>
<li role="presentation">
<a href="#tabpanel_oc8K8ou1Mv_tabid-2" role="tab" aria-controls="tabpanel_oc8K8ou1Mv_tabid-2" data-tab="tabid-2" tabindex="-1">EdgeCmd</a>
</li>
</ul>
<section id="tabpanel_oc8K8ou1Mv_tabid-1" role="tabpanel" data-tab="tabid-1">
<pre><code class="lang-bash">curl -d &quot;@Storage_Runtime..json&quot; -H &quot;Content-Type: application/json&quot; -X PUT http://localhost:5590/api/v1/configuration/storage/Runtime
</code></pre></section>
<section id="tabpanel_oc8K8ou1Mv_tabid-2" role="tabpanel" data-tab="tabid-2" aria-hidden="true" hidden="hidden">
<pre><code>edgecmd set runtime -file Storage_Runtime..json
</code></pre></section>
</div>
<p><strong>Note:</strong> The @ symbol is a required prefix for this command.</p>
</li>
</ol>
<h2 id="parameters">Parameters</h2>
<p>The following table lists all available runtime parameters for EDS storage configuration.</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>IngressDebugExpiration</strong></td>
<td>Required</td>
<td><code>string</code></td>
<td>Sets the date and time when debugging should be disabled. If you specify a future date and time, incoming OMF messages are logged and the HTTP request and response content is stored to disk for review. The debug logging stops at the date and time specified. Set the value to <code>null</code> to disable logging.<br>Every incoming OMF message logs a request and response log file. Log files are located in <code>C:\ProgramData\OSIsoft\EdgeDataStore\Logs\IngressDebugLogs\</code> and grouped by the associated OMF message type. Each log file name is in the format: <code>{ticks}-{operationId}-{Request/Response}.txt</code>. <br>Valid formats are UTC: <code>yyyy-mm-ddThh:mm:ssZ</code> and Local: <code>mm-dd-yyyy hh:mm:ss</code>. <br>When you activate logging, the content of an incoming OMF message, including the headers, is written to multiple files in the <code>Logs</code> directory. Those files are written to the <code>IngressDebugLogs</code> directory in the usual logs directory for every incoming OMF type, container, and data message.</td>
</tr>
<tr>
<td><strong>StreamStorageLimitMb</strong></td>
<td>Required</td>
<td><code>integer</code></td>
<td>The maximum size in megabytes that a stream can reach. When a stream exceeds the specified size, older data is deleted from the file until the stream is at or below the <strong>StreamStorageTargetMb</strong> value. The target value, set in the <strong>StreamStorageTargetMb</strong> property, needs to be smaller than the maximum specified in this property. Minimum value: <code>2</code>. Maximum value: <code>2147483647</code>.</td>
</tr>
<tr>
<td><strong>StreamStorageTargetMb</strong></td>
<td>Required</td>
<td><code>integer</code></td>
<td>The size in megabytes that a stream will be reduced to after <strong>StreamStorageLimitMb</strong> size is reached for a single stream. When a stream exceeds the size specified in the <strong>StreamStorageLimitMb</strong> property, older data is deleted from the file until the stream is at or below the <strong>StreamStorageTargetMb</strong> value. The target value needs to be smaller than the maximum specified in the <strong>StreamStorageLimitMb</strong> property. Minimum value: <code>1</code>. Maximum value: <code>2147483647</code>.</td>
</tr>
<tr>
<td><strong>TransactionLogLimitMB</strong></td>
<td>No</td>
<td><code>integer</code></td>
<td>Maximum size in megabytes for transaction log file. When a transaction log exceeds this size, it is deleted, which reduces the amount of data that you can recover if the host device loses power. Minimum value: <code>1</code>. Maximum value: <code>2147483647</code>.</td>
</tr>
<tr>
<td><strong>CheckpointRateInSec</strong></td>
<td>No</td>
<td><code>integer</code></td>
<td>Defines, in seconds, how often the storage component ensures recent data and configuration changes are flushed to storage. A setting of <code>0</code> disables checkpointing. Disabling checkpointing reduces the resiliency of the product, which can result in data loss if the host device loses power. Minimum value: <code>0</code>. Maximum value: <code>86400</code>.</td>
</tr>
<tr>
<td><strong>EnableMetrics</strong></td>
<td>No</td>
<td><code>Boolean</code></td>
<td>Enables EDS to create a new stream in the diagnostics namespace to track some metrics about internal storage operations. These metrics have no value outside of troubleshooting specific issues with the help of OSIsoft support. This should be set to <code>false</code> unless directed by OSIsoft support.</td>
</tr>
</tbody>
</table>
<h2 id="examples">Examples</h2>
<p>The following is a valid runtime configuration example.</p>
<pre><code>{
  &quot;streamStorageLimitMb&quot;: 2,
  &quot;streamStorageTargetMb&quot;: 1,
  &quot;ingressDebugExpiration&quot;: &quot;0001-01-01T00:00:00&quot;,
  &quot;checkpointRateInSec&quot;: 30,
  &quot;transactionLogLimitMB&quot;: 250,
  &quot;enableTransactionLog&quot;: true,
  &quot;enableMetrics&quot;: false
}
</code></pre></article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                  <li>
                    <a href="https://github.com/osisoft/Edge-Data-Store-Docs/blob/main/content/configuration/storage-runtime-config.md/#L1" class="contribution-link">Improve this Doc</a>
                  </li>
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
              <!-- <p><a class="back-to-top" href="#top">Back to top</a><p> -->
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            
            <span><a href="https://www.osisoft.com/copyright/">© 2019 - 2021 OSIsoft, LLC. All rights reserved.</a></span>
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../../styles/docfx.js"></script>
    <script type="text/javascript" src="../../styles/main.js"></script>
  </body>
</html>
